# VCodePPA: é¢å‘é›†æˆç”µè·¯ç‰©ç†çº¦æŸä¼˜åŒ–çš„Verilogä»£ç æ•°æ®é›†

[![License](https://img.shields.io/badge/License-MIT-blue.svg)](LICENSE)
[![Paper](https://img.shields.io/badge/Paper-arXiv-green.svg)](link-to-paper)
[![Dataset](https://img.shields.io/badge/Dataset-HuggingFace-yellow.svg)](link-to-dataset)

## ğŸ“ æ¦‚è¿°

**VCodePPA** æ˜¯é¦–ä¸ªå°†Verilogä»£ç ç»“æ„ä¸åŠŸè€—ã€æ€§èƒ½ã€é¢ç§¯ï¼ˆPPAï¼‰æŒ‡æ ‡ç²¾ç¡®å…³è”çš„å¤§è§„æ¨¡æ•°æ®é›†ï¼Œä¸“é—¨ç”¨äºé›†æˆç”µè·¯è®¾è®¡ä¼˜åŒ–ã€‚è¯¥æ•°æ®é›†è§£å†³äº†ç¡¬ä»¶æè¿°è¯­è¨€ç”Ÿæˆé¢†åŸŸçš„å…³é”®æŒ‘æˆ˜ï¼šå¦‚ä½•å¼•å…¥åŸºäºPPAæŒ‡æ ‡çš„è®¾è®¡åé¦ˆæœºåˆ¶ï¼Œæœ‰æ•ˆæŒ‡å¯¼æ¨¡å‹ä¼˜åŒ–ï¼Œè€Œä¸ä»…ä»…åœç•™åœ¨è¯­æ³•å’ŒåŠŸèƒ½æ­£ç¡®æ€§å±‚é¢ã€‚

### æ ¸å¿ƒç‰¹æ€§

- **ğŸ”¢ å¤§è§„æ¨¡**: 17,342æ¡é«˜è´¨é‡æ ·æœ¬ï¼Œåˆ†ä¸ºä¸‰ä¸ªæ•°æ®é›†åˆ†åŒº
- **ğŸ¯ PPAé›†æˆ**: Verilogä»£ç ä¸ç¡¬ä»¶å®ç°æŒ‡æ ‡çš„ç²¾ç¡®å…³è”
- **ğŸ”„ åŠŸèƒ½ç­‰æ•ˆ**: åŒä¸€åŠŸèƒ½çš„å¤šç§å®ç°æ–¹å¼ï¼Œå…·æœ‰æ˜¾è‘—çš„PPAå·®å¼‚
- **ğŸ“Š å…¨é¢æŒ‡æ ‡**: è¯¦ç»†çš„ç¡¬ä»¶è®¾è®¡æŒ‡æ ‡ï¼ŒåŒ…æ‹¬èµ„æºåˆ©ç”¨ç‡ã€å…³é”®è·¯å¾„å»¶è¿Ÿã€æœ€å¤§å·¥ä½œé¢‘ç‡å’ŒåŠŸè€—
- **ğŸ› ï¸ å®Œæ•´æµç¨‹**: ä»æ•°æ®ç”Ÿæˆåˆ°æ¨¡å‹è®­ç»ƒçš„ç«¯åˆ°ç«¯è§£å†³æ–¹æ¡ˆ

## ğŸ—ƒï¸ æ•°æ®é›†ç»“æ„

æ•°æ®é›†åŒ…å«ä¸‰ä¸ªä¸»è¦ç»„æˆéƒ¨åˆ†ï¼š

### æ•°æ®ç»„ç»‡ç»“æ„
VCodePPA/
â”œâ”€â”€ seed_dataset/           # 3,500æ¡ç²¾é€‰ç§å­æ ·æœ¬ï¼Œæ¶µç›–20ä¸ªåŠŸèƒ½ç±»åˆ«
â”œâ”€â”€ augmented_dataset/      # 17,342æ¡ä½¿ç”¨HVMSç®—æ³•ç”Ÿæˆçš„å˜ä½“
â””â”€â”€ evaluation_benchmark/   # æ¨¡å‹è¯„ä¼°çš„æ ‡å‡†åŒ–æµ‹è¯•ç”¨ä¾‹

### æ ·æœ¬ç»„æˆ
æ¯ä¸ªæ•°æ®æ ·æœ¬åŒ…æ‹¬ï¼š
- **Verilogä»£ç **: åŠŸèƒ½ç­‰æ•ˆçš„å®ç°æ–¹å¼ï¼Œå…·æœ‰ç»“æ„å˜åŒ–
- **PPAæŒ‡æ ‡**: ä½¿ç”¨Xilinx Vivadoæå–çš„å…¨é¢ç¡¬ä»¶æŒ‡æ ‡
- **åŠŸèƒ½æè¿°**: æ¨¡å—åŠŸèƒ½çš„è‡ªç„¶è¯­è¨€æè¿°
- **è®¾è®¡å…ƒæ•°æ®**: æ¨¡å—ç±»å‹ã€å¤æ‚åº¦æŒ‡æ ‡å’Œå˜æ¢å†å²

### æ•°æ®ç»“æ„ç¤ºä¾‹
æ ·æœ¬ID: behavioral_adder_variant_2
â”œâ”€â”€ ä»£ç : adder_behavioral.v (æµæ°´çº¿å®ç°)
â”œâ”€â”€ æè¿°: "å¸¦è¿›ä½çš„æµæ°´çº¿4ä½åŠ æ³•å™¨"
â”œâ”€â”€ PPAæŒ‡æ ‡:
â”‚   â”œâ”€â”€ LUTæ•°é‡: 8
â”‚   â”œâ”€â”€ FFæ•°é‡: 14
â”‚   â”œâ”€â”€ æœ€å¤§é¢‘ç‡: 979.43 MHz
â”‚   â”œâ”€â”€ å…³é”®è·¯å¾„å»¶è¿Ÿ: 0.888 ns
â”‚   â””â”€â”€ åŠŸè€—: 0.454 W
â””â”€â”€ åŠŸèƒ½ç±»åˆ«: ç®—æœ¯è¿ç®— > åŠ æ³•

## ğŸš€ æ ¸å¿ƒåˆ›æ–°

### 1. HVMSç®—æ³•
**åŒæºVerilogå˜åŒ–æœç´¢** - åŸºäºè’™ç‰¹å¡æ´›æ ‘æœç´¢çš„ç®—æ³•ï¼Œç”¨äºç”ŸæˆåŠŸèƒ½ç­‰æ•ˆä½†PPAç‰¹æ€§å·®å¼‚æ˜¾è‘—çš„ä»£ç å˜ä½“ã€‚

**ç‰¹æ€§:**
- è·¨æ¶æ„å±‚ã€é€»è¾‘å±‚å’Œæ—¶åºå±‚çš„å¤šç»´ä»£ç å˜æ¢
- 9ç§å˜æ¢ç®—å­ï¼Œæ¶µç›–FSMç¼–ç ã€æ¥å£é‡æ„ã€ç®—å­é‡å†™ç­‰
- åŸºäºUCTç­–ç•¥çš„æ™ºèƒ½æœç´¢ç©ºé—´æ¢ç´¢
- æ”¯æŒå¹¶è¡Œå¤„ç†ï¼Œé«˜æ•ˆå®Œæˆå¤§è§„æ¨¡æ•°æ®ç”Ÿæˆ

### 2. åŒä»»åŠ¡è®­ç»ƒæ¶æ„
è”åˆä¼˜åŒ–çš„æ–°é¢–è®­ç»ƒæ¡†æ¶ï¼š
- **ä¸»è¦ä»»åŠ¡**: åŸºäºåŠŸèƒ½éœ€æ±‚å’ŒPPAçº¦æŸçš„Verilogä»£ç ç”Ÿæˆ
- **è¾…åŠ©ä»»åŠ¡**: PPAé¢„æµ‹ï¼Œå»ºç«‹ä»£ç ç»“æ„ä¸ç¡¬ä»¶æŒ‡æ ‡çš„ç›´æ¥æ˜ å°„

**æ ¸å¿ƒç»„ä»¶:**
- PPAå¯¼å‘çš„å¯¹æ¯”å­¦ä¹ æŸå¤±
- åŸºäºé¢„æµ‹åˆ†å¸ƒçš„å®æ—¶PPAè¯„ä¼°
- å¹³è¡¡ä»£ç è´¨é‡ä¸å¤šæ ·æ€§çš„è‡ªé€‚åº”æŸå¤±å‡½æ•°

## ğŸ“Š æ€§èƒ½ç»“æœ

åœ¨VCodePPAä¸Šè®­ç»ƒçš„æ¨¡å‹è¡¨ç°å‡ºæ˜¾è‘—æ”¹è¿›ï¼š
- **10-15%** æ¿ä¸Šèµ„æºå ç”¨å‡å°‘
- **8-12%** åŠŸè€—é™ä½
- **5-8%** å…³é”®è·¯å¾„å»¶è¿Ÿç¼©çŸ­
- **å¢å¼ºçš„åŠŸèƒ½è¦†ç›–** é€‚ç”¨äºå¤æ‚æ¨¡å—ï¼ˆFSMã€FIFOç­‰ï¼‰

## ğŸ› ï¸ å®‰è£…ä¸ä½¿ç”¨

### ç¯å¢ƒè¦æ±‚
```bash
pip install torch transformers datasets
# PPAè¯„ä¼°å·¥å…·ï¼ˆå¯é€‰ï¼‰
# Xilinx Vivado 2022.2 æˆ–æ›´é«˜ç‰ˆæœ¬
å¿«é€Ÿå¼€å§‹
åŠ è½½æ•°æ®é›†
pythonfrom datasets import load_dataset

# åŠ è½½å®Œæ•´æ•°æ®é›†
dataset = load_dataset("your-username/VCodePPA")

# åŠ è½½ç‰¹å®šåˆ†åŒº
train_data = dataset['train']
validation_data = dataset['validation']
test_data = dataset['test']
ä½¿ç”¨HVMSè¿›è¡Œæ•°æ®å¢å¼º
pythonfrom vcodepa.hvms import HVMSGenerator

# åˆå§‹åŒ–HVMSç”Ÿæˆå™¨
hvms = HVMSGenerator(
    search_depth=3,
    ppa_threshold=0.2,
    parallel_workers=8
)

# ä»ç§å­ä»£ç ç”Ÿæˆå˜ä½“
variants = hvms.generate_variants(
    seed_code=verilog_code,
    target_count=5,
    transformation_types=['architectural', 'logical', 'timing']
)
ä½¿ç”¨åŒä»»åŠ¡æ¶æ„è®­ç»ƒ
pythonfrom vcodepa.training import DualTaskTrainer

trainer = DualTaskTrainer(
    model_name="deepseek-coder-6.7b",
    dataset=dataset,
    ppa_weight=0.3,
    contrastive_weight=0.2
)

# è®­ç»ƒæ¨¡å‹
trainer.train(
    epochs=10,
    batch_size=32,
    learning_rate=2e-5
)
