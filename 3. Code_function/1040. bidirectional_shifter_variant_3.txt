Bidirectional barrel shifter with arithmetic