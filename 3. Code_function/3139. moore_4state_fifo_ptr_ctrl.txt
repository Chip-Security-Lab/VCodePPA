FIFO pointer controller state machine