Weighted request arbiter with priorities