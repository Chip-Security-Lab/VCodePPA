I2C controller with task FSM