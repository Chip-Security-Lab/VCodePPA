Pipelined CAN protocol state machine