FIFO buffer with custom subtractor