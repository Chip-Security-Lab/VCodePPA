Ring-based shift register counter