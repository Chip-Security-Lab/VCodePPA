Pipelined instruction decoder with FSM