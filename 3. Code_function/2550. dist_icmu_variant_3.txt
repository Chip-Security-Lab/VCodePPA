Interrupt controller with priority handling