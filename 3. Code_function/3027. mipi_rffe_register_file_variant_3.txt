Pipelined register file with barrel-shifter