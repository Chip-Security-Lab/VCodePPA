FIFO pointer controller with FSM