Dual-clock timer with handshaking