Configurable mode-based clock gating