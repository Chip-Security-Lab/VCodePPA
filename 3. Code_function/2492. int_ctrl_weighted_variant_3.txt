Weighted interrupt controller with credits