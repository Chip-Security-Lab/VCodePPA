Dual-reset data template matcher