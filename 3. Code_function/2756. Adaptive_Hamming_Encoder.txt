Adaptive Hamming encoder with density-detection