Segmented XNOR with handshaking protocol