Two-stage pipelined ring counter