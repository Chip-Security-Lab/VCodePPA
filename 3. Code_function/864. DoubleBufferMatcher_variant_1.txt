Pipelined pattern matcher with selection