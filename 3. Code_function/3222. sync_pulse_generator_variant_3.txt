Configurable pulse generator with handshake