Bidirectional shift register with validation