Content-addressable memory with priority matching