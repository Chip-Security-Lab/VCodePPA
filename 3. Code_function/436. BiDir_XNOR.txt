Bidirectional XNOR with direction control