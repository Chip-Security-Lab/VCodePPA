Bidirectional bit-shifter with variable amount