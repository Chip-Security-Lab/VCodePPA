Pipelined hardware/software interrupt controller