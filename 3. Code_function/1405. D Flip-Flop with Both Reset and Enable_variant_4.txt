Three-stage flip-flop pipeline controller