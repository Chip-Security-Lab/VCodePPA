Pipelined shift register with subtractor