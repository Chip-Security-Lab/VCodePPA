Pipelined content-addressable memory with mask