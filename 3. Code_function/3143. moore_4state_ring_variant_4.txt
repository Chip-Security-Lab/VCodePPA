Pipelined four-state ring counter