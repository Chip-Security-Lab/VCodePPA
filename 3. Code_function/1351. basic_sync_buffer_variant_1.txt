Synchronized data buffer with handshaking