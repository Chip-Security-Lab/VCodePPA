Bidirectional onehot encoder/decoder module