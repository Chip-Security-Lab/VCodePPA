Pipelined memory with hazard detection