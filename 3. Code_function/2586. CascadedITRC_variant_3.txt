Hierarchical interrupt controller with priority