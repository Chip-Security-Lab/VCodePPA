Pipelined configurable SPI master controller