Run-length encoder with buffer register