Handshaked data encoder with XOR