Priority-based interrupt controller with timeout