Counter with configurable maximum value