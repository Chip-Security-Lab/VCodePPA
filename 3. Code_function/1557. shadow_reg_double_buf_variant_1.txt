Double-buffered shadow register system