Pattern detector using shift register