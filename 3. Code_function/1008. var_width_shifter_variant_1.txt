Variable-width barrel shifter with register