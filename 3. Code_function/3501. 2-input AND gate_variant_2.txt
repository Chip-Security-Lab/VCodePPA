Parameterized AND gate with optional