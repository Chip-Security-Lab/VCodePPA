Manchester decoder with handshaking protocol