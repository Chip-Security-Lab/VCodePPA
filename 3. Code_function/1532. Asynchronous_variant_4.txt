Conditional register with shadow storage