Pipelined state to one-hot encoder