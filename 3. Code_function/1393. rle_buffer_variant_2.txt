Run-length encoder with pipeline stages.