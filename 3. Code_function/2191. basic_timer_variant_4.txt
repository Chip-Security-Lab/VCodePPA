Pipelined programmable timer with timeout