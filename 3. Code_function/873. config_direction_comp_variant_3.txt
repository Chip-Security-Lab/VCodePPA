Configurable priority encoder with direction.