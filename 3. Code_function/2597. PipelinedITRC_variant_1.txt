Pipelined interrupt controller with priority