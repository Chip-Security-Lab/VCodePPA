Parameterized counter with maximum limit