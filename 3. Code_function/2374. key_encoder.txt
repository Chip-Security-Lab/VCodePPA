Keypad encoder with priority logic