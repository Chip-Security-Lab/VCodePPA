Dual-mode interrupt controller with prioritization