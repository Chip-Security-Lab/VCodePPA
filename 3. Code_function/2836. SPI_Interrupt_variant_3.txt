SPI controller with interrupt features