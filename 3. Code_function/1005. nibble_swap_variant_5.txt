Conditional nibble swapper with handshaking