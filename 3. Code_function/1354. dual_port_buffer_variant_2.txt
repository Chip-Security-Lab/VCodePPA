Dual-port handshaking data buffer