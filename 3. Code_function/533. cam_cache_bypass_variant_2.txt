Content-addressable memory with pipeline