Hamming encoder with handshake protocol