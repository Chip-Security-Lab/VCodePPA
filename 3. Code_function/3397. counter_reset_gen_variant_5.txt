Threshold-based reset pulse generator