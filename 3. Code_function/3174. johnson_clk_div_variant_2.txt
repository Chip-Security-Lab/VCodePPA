Johnson counter with handshaking interface