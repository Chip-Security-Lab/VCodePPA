Clock-gated FSM with multiplier