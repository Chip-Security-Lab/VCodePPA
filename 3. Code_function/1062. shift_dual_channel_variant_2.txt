Combinational bidirectional shifter with validation