Pipelined interrupt controller state machine