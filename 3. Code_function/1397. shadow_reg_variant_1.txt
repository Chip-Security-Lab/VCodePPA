Pipelined shadow register with commit