Square wave generator with period