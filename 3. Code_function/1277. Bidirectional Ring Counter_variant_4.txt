Bidirectional ring counter with reset