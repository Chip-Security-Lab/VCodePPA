Johnson counter with variable stages