Parameterized priority encoder with FSM