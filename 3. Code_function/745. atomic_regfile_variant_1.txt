Atomic read-modify-write register file