Pipelined bidirectional thermometer code shifter