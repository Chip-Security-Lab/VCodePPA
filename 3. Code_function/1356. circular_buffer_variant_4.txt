Circular FIFO buffer with control