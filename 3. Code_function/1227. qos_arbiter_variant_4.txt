QoS-based arbiter with priority scoring