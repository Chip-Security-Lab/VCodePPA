Multi-mode pipelined threshold comparator