USB transaction state machine controller