Three-stage pipelined counter/register