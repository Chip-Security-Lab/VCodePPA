Two-stage pipelined content-addressable memory