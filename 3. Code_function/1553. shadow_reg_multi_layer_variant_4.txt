Multi-layer circular data buffer