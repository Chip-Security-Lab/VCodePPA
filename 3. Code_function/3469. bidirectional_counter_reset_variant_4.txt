Pipelined bidirectional counter with reset