Pipelined system recovery state machine