Bidirectional counter with reset functionality