Buffered Johnson counter with pipelining