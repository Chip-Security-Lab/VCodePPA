Conditional subtraction with zero floor