Pattern detector with timeout feature