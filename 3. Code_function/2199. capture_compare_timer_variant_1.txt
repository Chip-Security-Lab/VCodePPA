Timer with capture compare functionality