SPI controller with pipelined interrupts