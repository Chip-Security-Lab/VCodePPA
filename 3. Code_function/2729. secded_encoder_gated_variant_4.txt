Error-correcting encoder with parity