Pipelined counter with edge capture