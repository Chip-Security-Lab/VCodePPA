Two-stage register update controller