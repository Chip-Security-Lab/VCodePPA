Pipelined DRAM controller with handshaking