Pipelined CAN controller with mailboxes