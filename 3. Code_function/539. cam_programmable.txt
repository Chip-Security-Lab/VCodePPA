Multi-mode content-addressable memory