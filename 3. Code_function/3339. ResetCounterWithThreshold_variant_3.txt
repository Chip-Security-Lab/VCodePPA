Reset detection with pipelined counter