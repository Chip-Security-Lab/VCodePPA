Two-stage register with commit