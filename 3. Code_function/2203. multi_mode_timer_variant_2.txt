Pipelined multi-mode timer controller