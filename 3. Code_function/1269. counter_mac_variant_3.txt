Multiply-accumulate circuit with registers