Pipelined interrupt controller with priorities