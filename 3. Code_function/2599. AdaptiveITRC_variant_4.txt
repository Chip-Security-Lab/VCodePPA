Adaptive interrupt controller with priorities