Multi-stage priority encoder implementation