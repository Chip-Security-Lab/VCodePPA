UART loopback with error detection