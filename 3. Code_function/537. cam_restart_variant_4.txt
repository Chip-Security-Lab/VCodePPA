Pipelined content-addressable memory with restart