Dual-channel handshaking flip-flop