Configurable bidirectional shifter with register