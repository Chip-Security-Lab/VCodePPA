Directional priority encoder with pipelining