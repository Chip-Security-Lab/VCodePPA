Pipelined priority encoder with stages