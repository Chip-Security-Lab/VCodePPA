Synchronous clock gating with test-mode