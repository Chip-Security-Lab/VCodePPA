Finite state machine sequence detector