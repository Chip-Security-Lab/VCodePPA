Pipelined priority arbiter with FSM