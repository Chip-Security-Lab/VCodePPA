Ping-pong buffer with subtraction