Bidirectional counter with subtraction module