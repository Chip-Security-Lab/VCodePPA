Traffic light state machine controller