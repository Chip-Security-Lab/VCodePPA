Variable-width shift register with buffering