Multi-mode programmable content-addressable memory