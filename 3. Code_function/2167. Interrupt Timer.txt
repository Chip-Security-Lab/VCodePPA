Programmable timer with interrupt generation