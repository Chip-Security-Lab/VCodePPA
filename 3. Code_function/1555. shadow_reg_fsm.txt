Triggered two-stage data transfer FSM