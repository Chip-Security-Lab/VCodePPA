Multi-mode pipelined timer controller