Dual-port RAM with conditional writes