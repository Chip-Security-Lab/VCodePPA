Programmable timeout with reset generator