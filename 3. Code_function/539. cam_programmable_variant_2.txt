Programmable CAM with multiple modes