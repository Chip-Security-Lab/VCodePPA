Adaptive Huffman encoder with counter