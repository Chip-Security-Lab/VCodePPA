Configurable shift register with modes