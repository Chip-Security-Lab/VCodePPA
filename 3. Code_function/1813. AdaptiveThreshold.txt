Adaptive signal threshold using average