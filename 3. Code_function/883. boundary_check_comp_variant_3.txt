Bounded priority encoder with validation