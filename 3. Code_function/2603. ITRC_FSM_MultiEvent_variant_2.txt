Event-driven multi-event FSM controller