Bidirectional circular shift register counter