Bidirectional encoder/decoder with error detection