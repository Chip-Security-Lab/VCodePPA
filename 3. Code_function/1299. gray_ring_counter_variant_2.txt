Gray code handshake ring counter