Adaptive Hamming encoder with buffers