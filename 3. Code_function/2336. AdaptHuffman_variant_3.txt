Adaptive Huffman encoding with pipeline