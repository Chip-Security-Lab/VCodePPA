CAN error detection with handshaking