Ring counter with handshaking protocol