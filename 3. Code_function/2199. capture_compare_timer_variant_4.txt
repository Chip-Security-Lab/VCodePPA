Pipelined timer with capture compare