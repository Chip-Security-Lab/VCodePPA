Multiplexer with shifting and subtraction