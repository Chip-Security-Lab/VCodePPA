Clock synchronization with phase detection