Pipelined multi-event handler FSM