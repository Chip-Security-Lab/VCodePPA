Three-flag register with buffers