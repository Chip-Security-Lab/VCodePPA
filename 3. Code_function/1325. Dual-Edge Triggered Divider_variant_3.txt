Dual-edge frequency divider with handshaking