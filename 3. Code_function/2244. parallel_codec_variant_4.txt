Pipelined FIFO buffer with registers