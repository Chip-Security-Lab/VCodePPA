Circular buffer with variable-shift readout