Pipelined dual-port memory controller