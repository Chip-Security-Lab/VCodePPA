Priority-based interrupt controller FSM