Pipelined 16-to-1 multiplexer with registers